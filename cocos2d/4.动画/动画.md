# 动画

## 动画

### Sequence

序列动作,可以将多个动作组合在一起

### Spawn

同步动画,多个动画同时进行



### Reverse

反动作,反向执行动作

### RepteatForever

无限重复动画

### Animate

帧动画

# 动画特效和动画

## 动作

动作(action)包括基本动作的组合,包含

- 缩放
- 移动
- 旋转

在继承Node类的对象中,有下列函数

```cpp
class Node{

//运行指定动作
Action *runAction(Action *a);

//停止动作
void stopAction(Action *action);

//通过标签停止动作
void stopActionByTag(int tag);

//停止所有动作
void stopAllAction();

};

```



## 瞬时动作

瞬时动作就是立即执行的动作

```cpp
class ActionInstance{
  
};

//改变位置
class Place;

//隐藏动作
class Hide;
//显示动作
class Show;
//镜像X
class FlipX;
//镜像Y
class FlipY;
```



### 间隔动作

执行完成需要一定时间的动作

通过设置duration属性完成



#### 常见动作类

```cpp
MoveBy::create(float duration,  Vec2& deltaPosition);

MoveTo::create(float duration,  Vec2& deltaPosition);
```



### 时间控制





### 组合动作





### 函数调用

初始化动画图片资源

```cpp
SpriteFrameCatche 
```

精灵图片纹理

```
SpriteBatchNode;
```

动画资源,使用帧动画

```cpp
Vector<SpriteFrame*> v;
SpriteFrame* frame_m = SpriteFrameCache::getInstance()->getSpriteFrameByName(tag);

```

## 自定义扩展动画





## 多个动画组合使用

使用Sequence

```cpp
//函数调用,定义回调函数,可以在组合动画中使用
auto callFn = CallFunc::create([] {});

//最后一个一定要用nullptr结尾,否则出现异常
Sequence::create(动画1,动画2,回调函数,nullptr);

```



初始化动画图片资源

```cpp
SpriteFrameCatche 
```

精灵图片纹理

```
SpriteBatchNode;
```

动画资源

```cpp
Vector<SpriteFrame*> v;
SpriteFrame* frame_m = SpriteFrameCache::getInstance()->getSpriteFrameByName(tag);
```



## 精灵动画

精灵(Sprite)继承了动画操作的接口

### 动画系统

```cpp
//动作类接口
class Action{
    //运行动画
    Action* runAction(Action* action);
    
    //停止动画
    void stopAllActions();
    
    //运行动画的数量
    unsigned int numberOfRunningActions();
}
```

### 动作类型

#### 瞬时动作

执行完成需要一定的时间

```cpp
//父类方法
class ActionInterval;

// 移动到指定的位置
class MoveTo;
// 移动到相对的位置
class MoveBy;
//跳跃到指定位置
class JumpTo;  
//跳跃到相对位置
class JumpBy;

//闪烁
class Blink{
    static* Blink create(float f,float f2);
    
}
```

#### 延时动画



### 动作管理器 