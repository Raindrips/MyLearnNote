# 场景与层

多个场景进行切换

## 场景切换



```cpp
//第一个场景启动调用该函数
void runWithScene(Scene *scene);

//切换到下一场景,并将当前场景挂在栈中
void pushScene(Scene *scene);

//回到上一次场景
void popScene(Scene *scene);

//回到根场景
void popToRootScene();

//切换场景,原来的会被释放掉
void replace(Scene *scene);
```



### 场景的生命周期

```cpp
//初始话时调用
bool init();

//进入层调用
void onEnter();

//进入层且过渡动画结束时调用
void EnterTransitionDidFinish();

//退出层时调用
void onExit();

//退出层开始过渡动画时调用
void onExitTransitionDidStart();

//被清理时调用
void cleanup();
```

## 创建一个场景

创建自定义的类,tong

新建一个头文件`.h`

```cpp
#pragma once 
#ifndef EXAMPLE_H
#define EXAMPLE_H

#include "cocos2d.h"

class Example : public cocos2d:layer{
    
    static cocos2d::createScene();
    
    virtual bool init() override;
    
    CREATE_FUNC(Example);
};

#endif //EXAMPLE_H
```



