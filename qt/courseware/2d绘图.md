# 2D绘图

重载paintEvent函数,该函数在绘制时自动调用

```cpp
//绘制函数
void paintEvent(QPaintEvent *event) override;
```

### 绘制类``QPaint``

`QPainter`类,通过继承的`paintEvent()`中进行调用,坐标位置是从左上角开始绘制的(0,0)

```cpp
//使用绘制类画线
painter->drawLine(QPoint(0, 0), QPoint(100, 100));

// 绘制圆弧
QRectF rect(70,70,80,80);
int startAngle=0;
int spanAngle=360*16;
painter->drawArc(rect,startAngle,spanAngle);

// 绘制椭圆
painter->drawEllipse(220,20,50,50);

```

### 画笔QPen

`QPen`使用的线条,改变绘制的方式.画笔用来画线和边缘。它包含颜色、宽度、线性、拐点风格以及连线风格。

```cpp
// 创建画笔
QPen pen(Qt::green, 5, Qt::DotLine, Qt::RoundCap, Qt::RoundJoin);
pen.setWidth(10);
// 使用画笔
painter->setPen(pen);
```

### 画刷

用来填充几何图形的图案。它一般由颜色和风格组成，但同时也可以是纹理（一个不断重复的图像）或者是一个渐变。
QBrush brush;

```cpp
//创建画刷
QBrush brush(QColor(0,0,255),Qt::Dense1Pattern);
//设置画刷材质
brush.setTexture(QPixmap("../*.png"));
//设置画刷
painter->setBrush(brush);

// 定义四个点
static const QPointF points[4] = {
    QPointF(270.0, 80.0),
    QPointF(290.0, 10.0),
    QPointF(350.0, 30.0),
    QPointF(390.0, 70.0),
};

// 使用四个点绘制多边形
painter->drawPolygon(points, 4);

// 使用画刷填充一个矩形区域
painter->fillRect(QRect(10, 100, 150, 20), QBrush(Qt::darkYellow));

// 擦除一个矩形区域的内容
painter->eraseRect(QRect(50, 0, 50, 120));
```

### 使用渐变

```cpp

// 线性渐变
QLinearGradient linearGradient(QPointF(40, 190), QPointF(70, 190));
// 插入颜色
linearGradient.setColorAt(0.1, Qt::yellow);
linearGradient.setColorAt(0.5, Qt::red);
linearGradient.setColorAt(1, Qt::green);

// 指定渐变区域以外的区域的扩散方式
linearGradient.setSpread(QGradient::RepeatSpread);

// 使用渐变作为画刷
painter->setBrush(linearGradient);
painter->drawRect(10, 170, 90, 40);

// 辐射渐变
QRadialGradient radialGradient(QPointF(200, 190), 50, QPointF(275, 200));
radialGradient.setColorAt(0, QColor(255, 255, 100, 150));
radialGradient.setColorAt(1, QColor(0, 0, 0, 50));
painter->setBrush(radialGradient);
painter->drawEllipse(QPointF(200, 190), 50, 50);

// 锥形渐变
QConicalGradient conicalGradient(QPointF(350, 190), 60);
conicalGradient.setColorAt(0.2, Qt::cyan);
conicalGradient.setColorAt(0.9, Qt::black);
painter->setBrush(conicalGradient);
painter->drawEllipse(QPointF(350, 190), 50, 50);

// 画笔使用线性渐变来绘制直线和文字
painter->setPen(QPen(linearGradient,2));
painter->drawLine(0, 280, 100, 280);
painter->drawText(150, 280, tr("helloQt!"));
```

   Shape  //形状

画布
QPainter *painter
	fillRect(const QRect &, const QBrush &)

```cpp
// QPainter::Antialiasing 抗锯齿
// QPainter::TextAntialiasing 文字抗锯齿
// QPainter::SmoothPixmapTransform  
```

### 字体font

```cpp
//字体：用来绘制文字。字体有很多属性，包括字体族和磅值大小。
QFont font;
font.setFamily("Microsoft YaHei");
font.setPointSize(50);
font.setItalic(true);
painter.setFont(font);

//样式
Qt::PenStyle 
```





      