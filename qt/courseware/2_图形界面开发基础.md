# QT图像界面开发

## 新建Qt Widgets应用

**步骤**

1. 选择项目模板
1. 输入项目信息
1. 选择构建套件
1. 输入类信息
1. 设置项目管理

**项目目录文件说明**

| 文件          | 说明                                  |
| ------------- | ------------------------------------- |
| 项目.pro      | 项目文件,包含了项目信息(项目名自定义) |
| 项目.pro.user | 该文件包含了用户的有关信息            |
| main.cpp      | 项目的主函数                          |
| 窗口类.h      | 窗口类的头文件(窗口类自定义)          |
| 窗口类.cpp    | 窗口类的头文件(窗口类自定义)          |
| 窗口类.ui     | 设计师使用的布局界面文件              |

## 设计界面

1. 主设计区。就是图中的中间部分，这里主要用来设计界面以及编辑各个部件的属性。
1. 部件列表窗口（Widget Box）。这里分类罗列了各种常用的标准部件，可以使用鼠标将这些部件拖入主设计区中，放到主设计区中的界面上。
1. 对象查看器（Object Inspector）。这里列出了界面上所有部件的对象名称和父类，而且以树形结构显示了各个部件的所属关系。可以在这里单击对象来选中该部件。
1. 属性编辑器（Property Editor）。这里显示了各个部件的常用属性信息，可以在这里更改部件的一些属性，如大小、位置等。这些属性按照从祖先继承的属性、从父类继承的属性和自己的属性的顺序进行了分类。
1. 动作（Action）编辑器与信号和/槽编辑器。在这里可以对相应的对象内容进行编辑。因为现在还没有涉及这些内容，所以放到以后使用时再介绍。
1. 常用功能图标。单击最上面的侧边栏中的前4个图标可以进入相应的模式，分别是窗口部件编辑模式（这是默认模式）、信号/槽编辑模式、伙伴编辑模式和Tab顺序编辑模式。后面的几个图标用来实现添加布局管理器以及调整大小等功能。

## 程序的运行和发布

运行程序快捷键:<kbd>ctrl+R</kbd>

Release模式:用来发布的文件,相当于可以给别人使用了

Debug模式:用来调试bug的模式,会产生额外的调试文件,并且运行速度慢,主要可以找到程序中出现错误的位置

### 修改图标图片

将图标文件放入项目中,如`myico.ico`,然后在`.pro`文件中进行编辑

```makefile
# 加上这一行代码
RC_ICONS=myico.ico
```

### 用命令的方式编写

```sh
# 移动到指定目录
cd D:/code/

# 创建项目生成 .pro 文件
qmake –project

# 编译makefile文件
qmake

# 使用minGW 进行编译exe程序
mingw32-make
```

## 创建c++类

1. 创建c++类,加上UI文件

1. 创建空项目然后创建`.pro文件`

   ```makefile
   greaterThan(QT_MAJOR_VERSION, 4): QT += widgets
   ```

1. 编写`main`主函数和文件

   ```cpp
   #include <QApplication>
   #include "hellodialog.h"
   int main(int argc, char *argv[])
   {
       QApplication a(argc, argv);
       HelloDialog w;
       w.show();
       return a.exec();
   }
   ```

1. 最后添加窗口应用类`hellodialog.h`并编写窗口代码