# 窗口

+ 菜单栏 `QMenuBar`

+ 工具栏  `QToolBar`

+ 状态栏 `status Bar`

+ 锚接部分 `dock widgets`

+ 中心部件 `central widgets`

  

## 主窗口

QMainWindow –是一个为用户提供窗口程序的类，包含一个菜单栏(menu bar)、多个工具栏(tool bars)、多个锚接部件(dock widgets)、一个状态栏(status bar)及一个中心部件(central widgets),是许多程序的基础，如文本编辑器、图片编辑器等

主窗口QMainWindow具有自己的布局管理器，因此在QMainWindows窗口上设置布局管理器或者创建一个父窗口部件作为QMainWindow的布局管理器都是不允许的。但可以在主窗口的中心部件上设置管理器

一个应用程序主窗口框架一般包含有：

1. 菜单栏：最上面一栏。

2. 工具栏：一般是第二栏，而且是可以移动的。

3. 中心部件：用于显示主要功能。

4. Dock部件：通常称为停靠窗口，因为可以停靠在中心部件周围，相当于ps里面的工具箱

5. 状态栏：在窗口最下面一栏就是状态栏。



### 菜单栏 `QMenuBar`

1. `QMenuBar:`提供了一个水平的菜单栏，可以在此基础上添加不同的QMenu和QAction。一个主窗口只可以有一个菜单栏。

2. `QMenu:`菜单栏里面菜单（如File、Edit、Format等菜单）或者带有三角形符号的菜单项（表示其下仍有子菜单），可以显示文本和图标，但是并不负责执行操作，有点类似label的作用。

　　3. `QAction:` Qt 将用户与界面进行交互的元素抽象为一种“动作”，使用QAction类表示。QAction才是真正负责执行操作的部件。

快捷键设置: `action->setShortcut(QKeySequence(key));`

　　1. QKeySequence：Qt中与快捷键相关的类

　　2. Key：Qt中代表键值的常量（如Ctrl+N的常量值为Qt::CTRL + Qt::Key_N）

加速键：括号为英文状态下的括号，&F被称为加速键，表示在程序运行的时候可以按Alt+F激活该菜单。

### 工具栏 `ToolBar`

工具栏是由一系列的类似于按钮的动作排列而成的面板，它通常由一些经常使用的命令(动作)组成。

工具栏位于菜单栏的下面、状态栏的上面，可以停靠在主窗口的上、下、左、右四个方向上。

一个主窗口可以包含多个工具栏。

工具栏类似按钮的动作排列的面板

主窗口的工具栏上可以有多个工具条，通常采用一个菜单对应一个工具条的的方式，也可根据需要进行工具条的划分。

+ 直接调用QMainWindow类的addToolBar（）函数获取主窗口的工具条对象，每增加一个工具条都需要调用一次该函数。

+  插入属于工具条的动作，即在工具条上添加操作。

通过QToolBar类的addAction函数添加。

+ 工具条是一个可移动的窗口，它的停靠区域由QToolBar的allowAreas决定，包括：

+ `Qt::LeftToolBarArea` 停靠在左侧

+ `Qt::RightToolBarArea` 停靠在右侧

+ `Qt::TopToolBarArea` 停靠在顶部

+ `Qt::BottomToolBarArea`  停靠在底部

+ `Qt::AllToolBarAreas` 以上四个位置都可停靠



使用``setAllowedAreas()``函数指定停靠区域：　

```cpp
setAllowedAreas(Qt::LeftToolBarArea | Qt::RightToolBarArea)
```

使用setMoveable（）函数设定工具栏的可移动性：

setMoveable（false）//工具条不可移动, 只能停靠在初始化的位置上

### 状态栏 `QStatusBar`

状态栏通常显示GUI(图形用户界面)应用程序的一些状态信息，

它位于主窗口的底部。

用户可以在状态栏上添加、使用QT窗口不爱进。一个主窗口最多只有一个状态栏.

应用程序的状态信息

派生自QWidget类，使用方法与QWidget类似，QStatusBar类常用成员函数：

```cpp
//添加小部件
void addWidget(QWidget * widget, int stretch = 0)

//插入小部件
int insertWidget(int index, QWidget * widget, int stretch = 0)

//删除小部件
void removeWidget(QWidget * widget)

```

### 锚接部分 `dock widgets`

锚接部件作为一个容器使用，以包含其它窗口部件来实现某些功能。 用来存放不同部件和窗口

例如，QT设计器的属性编辑器、对象监视器等都可以由锚接部件包容其他的Qt窗口部件来实现的。

它位于工具栏去的内部，可以作为一个窗口自由地浮动在主窗口上面，也可以像工具栏一样停靠在主窗口的上、下、左、右四个方向上。

一个主窗口可以包含多个锚接部件

```cpp

```

#### 中心部件 

`setCentralWidget`

中心部件处在锚接部件区的内部、主窗口的中心。

一个主窗口只有一个中心部件。   

锚接部件内部的主窗口，只有一个

从理论上来讲，任何继承自QWidget的类的派生类的实例，都可以作为中心窗口部件使用。

 一个Qt主窗口应用程序必须有一个中心窗口部件(Central Widget)。当你采用Qt Designer创建主窗口时，默认情况下，系统已经为你创建了一个中心窗口部件，它是子类化QWidget的。

几种常见情形:

 QMainWindow的中心区域可以被任意种类的窗口部件所占用。下面给出的是可能的情形。

1.  使用标准的Qt窗口部件（Standard Widget）

  像QWidget、Qlabel以及QTextEdit等等这样的标准窗口部件都可以用作中心窗口部件。



2.  使用自定义窗口部件（User-Define-Widget）

有时候，某些有特殊要求的应用程序需要在自定义窗口部件中显示数据，你可以把自定义的窗口部件作为中心窗口部件。例如，你的绘图编辑器程序程序就可以使用类似名为PhotoEditor的自定义窗口部件作为自己的中心窗口部件。

3. 使用一个带布局管理器的普通Widget

 有时候，应用程序的中央区域会被许多窗口部件所占用。这时就可以通过使用一个作为所有这些其他窗口部件父对象的QWidget，以及通过使用布局管理器管理这些子窗口部件的大小和位置来完成这一特殊情况。

4. 使用切分窗口（QSplitter）

  这种情况是上一种情况的一个例子。多个窗口部件一起使用的另一种方法是使用QSplitter。我们把QSplitter作为一个容器，在其中容纳其它的窗口部件，这时的中心窗口部件就是一个QSplitter。QSplitter会在水平方向或者竖直方向上排列它的子窗口部件，用户可以利用切分条（splitter handle）控制他们的尺寸大小。切分窗口可以包含所有类型的窗口部件，包括其他切分窗口。





## 总结

1. 主窗口是与用户进行长时间交互的顶层窗口
2. 主窗口通常是应用程序启动后显示的第一个窗口
1. `QMainWindow`是Qt是主窗口的基类
2. `QMainWindow`是一种容器类型的窗口组件
3. `QMainWindow`中封装了菜单栏、工具栏、状态栏等组件