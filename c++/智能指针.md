# 智能指针

## `shard_ptr`

定义于头文件 `<memory>`

自动销毁没有被指针引用的内存空间

- 最后剩下的占有对象的 `shared_ptr` 被销毁；
- 最后剩下的占有对象的 `shared_ptr `被通过 operator=或 reset() 赋值为另一指针。



### 示例

```cpp
#include <iostream>
#include <memory>
#include <type_traits>
 
struct C
{
  C(int i) : i(i) {} // < 需要构造函数 (C++20 前)
  int i;
};
 
int main()
{
    auto sp = std::make_shared<C>(12);
 
    static_assert(std::is_same_v<decltype(sp), std::shared_ptr<C>>);
 
    std::cout << sp->i << '\n';
}
```

输出：

```
12
```

# optional类

+ 判断数据是否被初始化

+ 判断指针是否为空

## 使用

定义于头文件 `<optional>`

c++17以上才能使用

进行`optional`的初始化

```cpp
optional<int> op={};		//初始化
```

或者是

```c++
make_optional(T &&val);		//自动识别构造对象			
```









